<h2>Users: <%= @users.count %></h2>
</br>

<div class="table-responsive" >
    <table class="table table-dark table-striped table-hover">
        <thead>
            <tr>
            <th>Id</th>
            <th>Email</th>
            <th>Confirmed</th>
            <th>Banned?</th>
            <th>Name</th>
            <th>Image</th>
            <th>Roles</th>
            <th colspan="3"></th>
            </tr>
        </thead>

        <tbody class="table-group-divider">
            <% @users.each do |user| %>
                <tr>
                    <td><%= link_to user.id, user_path(user)%><br/></td>
                    <td><%= user.email %> </td>
                    <td><%= user.confirmed? %> </td>
                    <td><%= user.access_locked? %> </td>
                    <td><%= user.name %> </td>
                    <td> 
                        <% if user.image.present? %>
                            <%= image_tag user.image, size: "30x30" %>
                        <% end %>
                    </td>
                    <td><%= user.active_roles.join(', ') %> </td>
                    <td>
                        <% if current_user.admin? || current_user.teacher? %>
                            <%= link_to "Edit roles", edit_user_path(user), class: "btn btn-sm btn-secondary"%>
                            <%= link_to ban_status(user), ban_user_path(user), method: :patch, class: "btn btn-sm btn-warning" %>
                            <%= link_to "Delete", user, method: :delete, data: {confirm: "Are you sure?"}, class: "btn btn-sm btn-danger"  %>
                        <% end %>
                    </td>
                </tr>
            <% end %>
        </tbody>
    </table>
</div>